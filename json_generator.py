ITEMS = [
    "Robe of the Magi",
    "Double Link Tunic",
    "Basilisk Hide Pants",
    "Tanglewood Staff",
    "Viking Warhammer",
    "Thornstone Sledgehammer",
    "Large Knapsack",
    "Poison-tipped Bone Spear",
    "Sword of Decay",
    "Teebu's Blazing Longsword",
    "Gunnysack of the Night Watch",
    "Worn Mail Belt",
    "Worn Mail Boots",
    "Worn Mail Bracers",
    "Worn Cloak",
    "Worn Mail Gloves",
    "Worn Mail Pants",
    "Worn Mail Vest",
    "Laced Mail Belt",
    "Laced Mail Boots",
    "Laced Mail Bracers",
    "Laced Cloak",
    "Laced Mail Gloves",
    "Laced Mail Pants",
    "Laced Mail Shoulderpads",
    "Laced Mail Vest",
    "Linked Chain Belt",
    "Linked Chain Boots",
    "Linked Chain Bracers",
    "Linked Chain Cloak",
    "Linked Chain Gloves",
    "Linked Chain Pants",
    "Linked Chain Shoulderpads",
    "Linked Chain Vest",
    "Reinforced Chain Belt",
    "Reinforced Chain Boots",
    "Reinforced Chain Bracers",
    "Reinforced Chain Cloak",
    "Reinforced Chain Gloves",
    "Reinforced Chain Pants",
    "Reinforced Chain Shoulderpads",
    "Reinforced Chain Vest",
    "Canvas Shoes",
    "Canvas Cloak",
    "Canvas Gloves",
    "Canvas Pants",
    "Canvas Shoulderpads",
    "Canvas Vest",
    "Brocade Shoes",
    "Brocade Cloak",
    "Brocade Gloves",
    "Brocade Pants",
    "Brocade Shoulderpads",
    "Brocade Vest",
    "Cross-stitched Sandals",
    "Cross-stitched Cloak",
    "Cross-stitched Gloves",
    "Cross-stitched Pants",
    "Cross-stitched Shoulderpads",
    "Cross-stitched Vest",
    "Patched Leather Belt",
    "Patched Leather Boots",
    "Patched Leather Bracers",
    "Patched Cloak",
    "Patched Leather Gloves",
    "Patched Leather Pants",
    "Patched Leather Shoulderpads",
    "Patched Leather Jerkin",
    "Rawhide Belt",
    "Rawhide Boots",
    "Rawhide Bracers",
    "Rawhide Cloak",
    "Rawhide Gloves",
    "Rawhide Pants",
    "Rawhide Shoulderpads",
    "Rawhide Tunic",
    "Tough Leather Belt",
    "Tough Leather Boots",
    "Tough Leather Bracers",
    "Tough Cloak",
    "Tough Leather Gloves",
    "Tough Leather Pants",
    "Tough Leather Shoulderpads",
    "Tough Leather Armor",
    "Blunt Claymore",
    "Short-handled Battle Axe",
    "Chipped Quarterstaff",
    "Battered Mallet",
    "Ornamental Mace",
    "Unbalanced Axe",
    "Stock Shortsword",
    "Standard Claymore",
    "Gouging Pick",
    "Wooden Maul",
    "Warped Blade",
    "Cedar Walking Stick",
    "Bludgeoning Cudgel",
    "Shiny War Axe",
    "Bulky Bludgeon",
    "Rock Maul",
    "Meat Cleaver",
    "Stone War Axe",
    "Short Cutlass",
    "Long Bastard Sword",
    "Oaken War Staff",
    "Lucky Trousers",
    "Dirty Leather Belt",
    "Dirty Leather Bracers",
    "Rough Leather Belt",
    "Rough Leather Bracers",
    "Tanned Leather Belt",
    "Tanned Leather Bracers",
    "Chainmail Belt",
    "Chainmail Bracers",
    "Cured Leather Belt",
    "Cured Leather Bracers",
    "Scalemail Bracers",
    "Scalemail Belt",
    "Thistlenettle's Badge",
    "Miner's Revenge",
    "Miners' Union Card",
    "Studded Blackjack",
    "Jeweled Dagger",
    "Supplies for Sven",
    "Ambassador's Satchel",
    "Defias Rapier",
    "Weighted Sap",
    "Deadmines Cleaver",
    "Defias Mage Staff",
    "Silk-threaded Trousers",
    "Stonemason Cloak",
    "Huge Gnoll Claw",
    "Staff of Conjuring",
    "Stonemason Trousers",
    "Assassin's Blade",
    "Goblin Screwdriver",
    "Buzz Saw",
    "Block Mallet",
    "Skin of Sweet Rum",
    "Cask of Merlot",
    "Bottle of Moonshine",
    "Goblin Mail Leggings",
    "Metalworking Gloves",
    "Woodworking Gloves",
    "Mary's Looking Glass",
    "Blackwater Cutlass",
    "Dragonmaw Chain Boots",
    "Faded Shadowhide Pendant",
    "Petrified Shinbone",
    "Cold Iron Pick",
    "Glowing Shadowhide Pendant",
    "White Wolf Gloves",
    "Ogre's Monocle",
    "Restoring Balm",
    "Furlbrow's Deed",
    "Westfall Deed",
    "Orb of Deception",
    "Mindthrust Bracers",
    "Pysan's Old Greatsword",
    "Slaghammer",
    "Wolfclaw Gloves",
    "Wall of the Dead",
    "Underworld Band",
    "Icemail Jerkin",
    "Nightblade",
    "Gutrender",
    "Krazek's Fixed Pot",
    "Chief Brigadier Gauntlets",
    "Ballast Maul",
    "Goblin Power Shovel",
    "Swampchill Fetish",
    "Ogremind Ring",
    "Ebonclaw Reaver",
    "Voodoo Band",
    "Pressed Felt Robe",
    "Bloodscalp Channeling Staff",
    "Archeus",
    "Grelin Whitebeard's Journal",
    "The First Troll Legend",
    "The Second Troll Legend",
    "The Third Troll Legend",
    "The Fourth Troll Legend",
    "Twisted Sabre",
    "Cryptbone Staff",
    "Black Metal Greatsword",
    "Black Metal War Axe",
    "Glowing Leather Bracers",
    "Skeletal Longsword",
    "Hollowfang Blade",
    "Green Carapace Shield",
    "Espadon",
    "Bearded Axe",
    "Rock Hammer",
    "Scimitar",
    "Hammer",
    "Cleaver",
    "Gnarled Staff",
    "Gallan Cuffs",
    "Ambassador's Boots",
    "Scholarly Robes",
    "Stonesplinter Dagger",
    "Stonesplinter Mace",
    "Stonesplinter Blade",
    "Staff of the Blessed Seer",
    "Sapper's Gloves",
    "Swampwalker Boots",
    "Necromancer Leggings",
    "Forest Tracker Epaulets",
    "Kam's Walking Stick",
    "Rodentia Flint Axe",
    "Rodentia Shortsword",
    "Rat Cloth Belt",
    "Rat Cloth Cloak",
    "Haunch of Meat",
    "Conjured Fresh Water",
    "Scroll of Strength",
    "Scroll of Intellect",
    "Kang the Decapitator",
    "Necrology Robes",
    "Large Boar Tusk",
    "Great Goretusk Snout",
    "Burning War Axe",
    "Embossed Leather Vest",
    "Handstitched Leather Boots",
    "Handstitched Leather Pants",
    "Light Armor Kit",
    "Fine Leather Boots",
    "Fine Leather Cloak",
    "Embossed Leather Boots",
    "Embossed Leather Cloak",
    "White Leather Jerkin",
    "Fine Leather Gloves",
    "Medium Armor Kit",
    "Toughened Leather Armor",
    "Dark Leather Boots",
    "Dark Leather Cloak",
    "Dark Leather Tunic",
    "Light Leather",
    "Medium Leather",
    "Coarse Thread",
    "Fine Thread",
    "Bleach",
    "Black Dye",
    "Ivy-weave Bracers",
    "Sturdy Leather Bracers",
    "Battleworn Hammer",
    "Worn Wooden Shield",
    "Woven Vest",
    "Woven Pants",
    "Woven Boots",
    "Woven Gloves",
    "Battered Leather Harness",
    "Battered Leather Belt",
    "Battered Leather Pants",
    "Battered Leather Boots",
    "Battered Leather Bracers",
]

ATTRTYPES = [
    "Strength",
    "Agility",
    "Intelligence"
]

BODYTYPE = [
    "Chub",
    "Skinny",
    "Buff",
    "Pear Shaped",
    "Lean Fat",
    "Voluptuous",
    "Athletic"
]

COLOR = [
    "Brown",
    "Green",
    "Yellow",
    "Pink",
    "Grey",
    "Blue",
    "Black",
    "White",
    "Orange",
    "Yellow"
]

DISPLAYTYPES = [
    "date",
    "number",
    "boost_percentage",
    "boost_number",
]


def choose_category(val, list):
    return list[int(val, 16) % len(list)]


def json_generate(tokenId, url):
    hexStr = f"0x{tokenId}"

    type = tokenId[:6]
    str = tokenId[6:8]
    agi = tokenId[8:10]
    intl = tokenId[10:12]
    strGain = tokenId[12:13]
    agiGain = tokenId[13:14]
    intGain = tokenId[14:15]
    prim = tokenId[15:16]
    dmg = tokenId[16:18]
    dmgGain = tokenId[18:19]
    armor = tokenId[19:21]
    magicResist = tokenId[21:23]
    exp = tokenId[23:25]
    expGain = tokenId[25:26]
    manaPool = tokenId[26:28]
    manaGain = tokenId[28:29]
    backpackSlot01 = tokenId[29:31]
    backpackSlot02 = tokenId[31:33]
    backpackSlot03 = tokenId[33:35]
    backpackSlot04 = tokenId[35:37]
    backpackSlot05 = tokenId[37:39]
    backpackSlot06 = tokenId[39:41]
    backpackSlot07 = tokenId[41:43]
    backpackSlot08 = tokenId[43:45]
    backpackSlot09 = tokenId[45:47]
    backpackSlot10 = tokenId[47:49]
    backpackSlot11 = tokenId[49:51]
    backpackSlot12 = tokenId[51:53]
    bodyType = tokenId[53:54]
    eyeColor = tokenId[54:55]
    hairColor = tokenId[55:56]
    speed = tokenId[56:58]
    speedGain = tokenId[58:59]
    luck = tokenId[59:60]
    luckGain = tokenId[60:61]
    luckyNumber = tokenId[61:63]
    batch = tokenId[63:]

    print(f"Sent: {tokenId}")
    print(f"XXXX: {type + str + agi + intl + strGain + agiGain + intGain + prim + dmg + dmgGain + armor + magicResist + exp + expGain + manaPool + manaGain + backpackSlot01 + backpackSlot02 + backpackSlot03 + backpackSlot04 + backpackSlot05 + backpackSlot06 + backpackSlot07 + backpackSlot08 + backpackSlot09 + backpackSlot10 + backpackSlot11 + backpackSlot12 + bodyType + eyeColor + hairColor + speed + speedGain + luck + luckGain + luckyNumber + batch}")

    formattedType = f"0x{type.upper()}"
    formattedBatch = int(batch, 16)

    data = {
        "description": f"# Ultimate Stats NFT\nYour stats are: `{hexStr}`",
        "external_url": f"https://stattz.github.io/nfts/{hexStr}",
        "name": f"Batch {formattedBatch} | Type {formattedType}",
        "image": f"{url}/image?tokenId={hexStr}",
        "background_color": "202b38"
    }

    attributes = [
        {
            "trait_type": "Type",
            "value": formattedType
        },
        {
            "trait_type": "Batch",
            "display_type": "number",
            "value": formattedBatch
        },
        {
            "trait_type": "Base Strength",
            "value": int(str, 16),
            "max_value": 255
        },
        {
            "trait_type": "Base Agility",
            "value": int(agi, 16),
            "max_value": 255

        },
        {
            "trait_type": "Base Intelligence",
            "value": int(intl, 16),
            "max_value": 255

        },
        {
            "trait_type": "Strength Gain",
            "display_type": "boost_number",
            "value": int(strGain, 16)
        },
        {
            "trait_type": "Agility Gain",
            "display_type": "boost_number",
            "value": int(agiGain, 16)
        },
        {
            "trait_type": "Intelligence Gain",
            "display_type": "boost_number",
            "value": int(intGain, 16)
        },
        {
            "trait_type": "Primary Attribute",
            "value": choose_category(prim, ATTRTYPES)
        },
        {
            "trait_type": "Base Damage",
            "value": int(dmg, 16),
            "max_value": 255

        },
        {
            "trait_type": "Damage Gain",
            "display_type": "boost_number",
            "value": int(dmgGain, 16)
        },
        {
            "trait_type": "Armor",
            "display_type": "boost_number",
            "value": int(armor, 16)
        },
        {
            "trait_type": "Magic Resistance",
            "display_type": "boost_number",
            "value": int(magicResist, 16)
        },
        {
            "trait_type": "Base Experience",
            "value": int(exp, 16),
            "max_value": 255

        },
        {
            "trait_type": "Experience Gain Bonus",
            "display_type": "boost_number",
            "value": int(expGain, 16)
        },
        {
            "trait_type": "Base Mana Pool",
            "value": int(manaPool, 16),
            "max_value": 255

        },
        {
            "trait_type": "Mana Gain Bonus",
            "display_type": "boost_number",
            "value": int(manaGain, 16)
        },
        {
            "trait_type": "Backpack Slot #01",
            "value": choose_category(backpackSlot01, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #02",
            "value": choose_category(backpackSlot02, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #03",
            "value": choose_category(backpackSlot03, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #04",
            "value": choose_category(backpackSlot04, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #05",
            "value": choose_category(backpackSlot05, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #06",
            "value": choose_category(backpackSlot06, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #07",
            "value": choose_category(backpackSlot07, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #08",
            "value": choose_category(backpackSlot08, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #09",
            "value": choose_category(backpackSlot09, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #10",
            "value": choose_category(backpackSlot10, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #11",
            "value": choose_category(backpackSlot11, ITEMS)
        },
        {
            "trait_type": "Backpack Slot #12",
            "value": choose_category(backpackSlot12, ITEMS)
        },
        {
            "trait_type": "Body Type",
            "value": choose_category(bodyType, BODYTYPE)
        },
        {
            "trait_type": "Eye Color",
            "value": choose_category(eyeColor, COLOR)
        },
        {
            "trait_type": "Hair Color",
            "value": choose_category(hairColor, COLOR)
        },
        {
            "trait_type": "Base Speed",
            "value": int(speed, 16),
            "max_value": 255

        },
        {
            "trait_type": "Speed Gain Bonus",
            "display_type": "boost_number",
            "value": int(speedGain, 16)
        },
        {
            "trait_type": "Base Luck",
            "value": int(luck, 16),
            "max_value": 255

        },
        {
            "trait_type": "Luck Gain Bonus",
            "display_type": "boost_number",
            "value": int(luckGain, 16)
        },
        {
            "trait_type": "Lucky Number",
            "value": f"{int(luckyNumber, 16)}"
        },
    ]

    data["attributes"] = attributes

    return data
